<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="primefaces"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="#{request.contextPath}/resources/style.css" />
    <title>Lab3</title>
</h:head>

<h:body>
    <header>
        <span>
            <h1>Гребенюк Леонид Сергеевич, p3232, вариант 324757</h1>
        </span>
    </header>

    <div style="display: flex; flex-direction: column; align-items: center">
        <div style="width: 400px; height: 400px; cursor: crosshair;" id="graph">
            <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" id="svg">
                <circle id="circle" cx="200" cy="200" r="37.5" class="light-blue" />
                <rect x="0" y="0" width="200" height="400" style="fill:white" />
                <rect x="200" y="0" width="200" height="200" style="fill:white" />
                <rect id="rect" x="200" y="162.5" width="37.5" height="37.5" class="light-blue" />
                <polygon id="triangle" points="200,200 200,237.5 162.5,200" class="light-blue" />
                <line x1="200" y1="0" x2="200" y2="400" stroke="black" />
                <line x1="0" y1="200" x2="400" y2="200" stroke="black" />
                <line x1="390" y1="204" x2="400" y2="200" stroke="black" />
                <line x1="390" y1="196" x2="400" y2="200" stroke="black" />
                <line x1="204" y1="10" x2="200" y2="0" stroke="black" />
                <line x1="196" y1="10" x2="200" y2="0" stroke="black" />
                <line x1="197" y1="275" x2="203" y2="275" stroke="black" />
                <line x1="197" y1="350" x2="203" y2="350" stroke="black" />
                <line x1="197" y1="125" x2="203" y2="125" stroke="black" />
                <line x1="197" y1="50" x2="203" y2="50" stroke="black" />
                <line x1="50" y1="197" x2="50" y2="203" stroke="black" />
                <line x1="125" y1="197" x2="125" y2="203" stroke="black" />
                <line x1="275" y1="197" x2="275" y2="203" stroke="black" />
                <line x1="350" y1="197" x2="350" y2="203" stroke="black" />
                <text x="210" y="10" class="small">y</text>
                <text x="390" y="190" class="small">x</text>
                <text x="46" y="195" class="small">4</text>
                <text x="346" y="195" class="small">4</text>
                <text x="205" y="54" class="small">4</text>
                <text x="205" y="354" class="small">4</text>
                <text x="115" y="195" class="small">2</text>
                <text x="265" y="195" class="small">2</text>
                <text x="205" y="129" class="small">2</text>
                <text x="205" y="279" class="small">2</text>
            </svg>
        </div>

        <div>
            <h:form>
                <fieldset class="input-element">
                    <legend>Set X:</legend>
                    <span>
                        <h:selectBooleanCheckbox pt:data-group="x" value="#{pageManagerBean.xn20}"></h:selectBooleanCheckbox>
                        <label>-2 </label>
                    </span>
                    <span>
                        <h:selectBooleanCheckbox pt:data-group="x" value="#{pageManagerBean.xn15}"></h:selectBooleanCheckbox>
                        <label>-1.5 </label>
                    </span>
                    <span>
                        <h:selectBooleanCheckbox pt:data-group="x" value="#{pageManagerBean.xn10}"></h:selectBooleanCheckbox>
                        <label>-1 </label>
                    </span>
                    <span>
                        <h:selectBooleanCheckbox pt:data-group="x" value="#{pageManagerBean.xn5}"></h:selectBooleanCheckbox>
                        <label>-0.5 </label>
                    </span>
                    <span>
                        <h:selectBooleanCheckbox pt:data-group="x" value="#{pageManagerBean.x0}"></h:selectBooleanCheckbox>
                        <label>0 </label>
                    </span>
                    <span>
                        <h:selectBooleanCheckbox pt:data-group="x" value="#{pageManagerBean.x5}"></h:selectBooleanCheckbox>
                        <label>0.5 </label>
                    </span>
                    <span>
                        <h:selectBooleanCheckbox pt:data-group="x" value="#{pageManagerBean.x10}"></h:selectBooleanCheckbox>
                        <label>1 </label>
                    </span>
                    <br/>
                    <span id="x-alert" style="color:red"></span>
                </fieldset>

                <fieldset class="input-element">
                    <legend>Type Y:</legend>
                    <h:inputText pt:data-group="y" id="y" value="#{pageManagerBean.y}" size="10" maxlength="20" style="width: 250px;" pt:placeholder="-3 &lt;= y &lt;= 3">
                        <f:converter converterId="bigDecimalConverter" />
                        <f:validator validatorId="yValidator" />
                    </h:inputText>
                    <br/>
                    <h:message for="y" style="color:red" />
                </fieldset>

                <fieldset class="input-element">
                    <legend>Set R:</legend>
                    <h:inputHidden pt:data-group="r" id="number" value="#{pageManagerBean.r}" />
                    <p:slider for="number" step="0.25" minValue="1" maxValue="4" style="width: 200px; margin: 5px;" onSlideEnd="slider(event)"/>
                </fieldset>
                <div style="padding-top: 10px;">
                    <h:commandButton pt:id="sendButton" value="Send" action="#{pageManagerBean.addPoint}" />
                </div>
            </h:form>
        </div>

        <div>
            <h:dataTable pt:data-group="table" value="#{resultsManagerBean.points}" var="point" style="margin-top: 40px;">
                <h:column>
                    <f:facet name="header">Время запроса</f:facet>
                    <h:outputText value="#{point.requestTime}">
                        <f:converter converterId="localDateTimeConverter" />
                    </h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">X</f:facet>
                    <h:outputText value="#{point.x}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Y</f:facet>
                    <h:outputText value="#{point.y}" />
                </h:column>
                <h:column>
                    <f:facet name="header">R</f:facet>
                    <h:outputText value="#{point.r}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Статус</f:facet>
                    <h:outputText value="#{point.hit}" />
                </h:column>
            </h:dataTable>
        </div>

        <div style="padding-top: 20px;">
            <a href="#{request.contextPath}/index.xhtml">Стартовая страница</a>
        </div>
    </div>
    
    <script src="#{request.contextPath}/resources/script.js"></script>
    <script src="#{request.contextPath}/resources/graph.js"></script>
    <script src="#{request.contextPath}/resources/points.js"></script>
</h:body>

</html>